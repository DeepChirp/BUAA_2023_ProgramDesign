# 编撰幻想乡缘起

时间限制：1000 ms / 空间限制：65536 KB / 难度：6

## 题目描述

> 这次的幻想乡缘起，还未算完结。我会在转生准备开始前，继续编集本书。————稗田阿求，《东方求闻史纪》

给出一个待操作的非空字符串 $str1$ 和若干次对该字符串的编辑操作 $op \in {1,\ 2,\ 3,\ 4,\ 5,\ 6}$ ，请你对该字符串依次进行这些操作。

操作过程中保证：操作次数不超过 $1000$ ，字符串中仅可能存在数字，字母，长度不超过 $10000$ ，且存在第 $i,\ j\ (i \leq j)$ 位（从 $0$ 开始计数）。

+ $op=1$ 时进行字符串拼接，给出一个非空字符串 $str2$ ，将 $str2$ 拼接在 $str1$ 末尾。
+ $op=2$ 时进行字符串截断，给出一个整数 $i$ ，将 $str1$ 自第 $i$ 位以后的内容删去（包括第 $i$ 位）。
+ $op=3$ 时进行字符串插入，给出一个整数 $i$ ，一个非空字符串 $str2$ ，将 $str2$ 插入在 $str1$ 的第 $i$ 位之后。
+ $op=4$ 时进行字符串删除，给出两个整数 $i,\ j$ ，将 $str1$ 第 $i$ 位到第 $j$ 位（包括第 $i,\ j$ 位） 之间的内容删除，可能存在的之后的字符向前补位。
+ $op=5$ 时进行字符串替换，给出两个整数 $i,\ j$ ，一个非空字符串 $str2$ ，将 $str1$ 第 $i$ 位到第 $j$ 位（包括第 $i,\ j$ 位） 之间的内容替换为 $str2$。
+ $op=6$ 时进行字符串查询，给出一个非空字符串 $str2$ 。
  + 若 $str2$ 存在于 $str1$ 中，输出 $str2$ 在 $str1$ 中第一次出现和最后一次出现的位置，用一个空格分开。
  + 若不存在，输出一行 `NULL` 。

在所有操作结束后，输出最终的 $str1$ 。

## 输入格式

不定行输入。

第一行为待操作的字符串 $str1$ 。

接下来若干行输入。每行有一个正整数 $op$ 和对应的输入，用一个空格分开。

## 输出格式

不定行输出。

对于每一次字符串查询操作，输出对应的内容。

最后输出一行字符串 $str1$

## 输入样例

    Touhou
    1 GumonShiki
    3 10 Kuju
    4 15 19
    6 ou
    5 0 5 Gensokyo
    2 13

## 输出样例

    1 4
    GensokyoGumon

## 样例解释

$str1$ 初始时为 `Touhou`

拼接字符串 `GumonShiki` 变为 `TouhouGumonShiki`

在第 $10$ 位 `n` 后插入 `Kuju` 变为 `TouhouGumonKujuShiki`

删除第 $15$ 位 `S` 到第 $19$ 位 `i` 之间的内容变为 `TouhouGumonKuju`

查询字符串 `ou` 在 $str1$ 中第一次出现在第 $1$ 位， 第二次出现在第 $4$ 位

将第 $0$ 位 `T` 到第 $5$ 位 `u` 之间的内容替换为 `Gensokyo` 变为 `GensokyoGumonKuju`

截断第 $13$ 位 `K` 之后的内容变为 `GensokyoGumon`

全部操作结束，输出最后的结果 `GensokyoGumon`

## *Hint*

你可能需要综合使用 `string.h` 中的若干个库函数

实际上，插入删除替换这三个操作可以看做是截断和拼接的某种组合

你可能需要再回想一下 `\0` 对于字符串的意义

-----

*Author:星辰的微光*
