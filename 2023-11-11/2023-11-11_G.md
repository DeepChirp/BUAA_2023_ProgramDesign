# 魔法少女★大类分流

时间限制：1000 ms / 空间限制：65536 KB / 难度：3

## 题目描述

见泷原大学的魔法少女们愉快地度过了满怀希望的大一学年，即将面临重要的大类专业分流！她们每人都需要将 $1 \sim m$ 号学院按自己的意愿从高到低排序，将排序结果作为自己的志愿填入系统。然后系统根据每人在大一阶段的成绩排名，以「志愿优先、成绩排序、计划调控」（即**顺序志愿**而不是平行志愿）的规则，先读取所有学生的第 $1$ 志愿进行录取，然后读取没有被 $1$ 志愿录取的所有学生的第 $2$ 志愿进行录取，依此类推，将大家「$0$ 调剂」地分流到各学院中

现在需要你编写一个程序实现这个系统的核心录取算法，根据每个学生的成绩排名、填报志愿情况与每个学院的计划招生名额数，计算一下每个学生最终会分流到哪个学院 ~ 咪啪

由于考入见泷原大学的魔法少女们都十分优秀，校长 $Incubator$ 是不会让她们之中有人因为分流没有学院去而被退学的。所以题目**保证所有学院计划招生名额数之和不小于本次参与分流的学生总人数**

如果你不清楚顺序志愿的录取方式请看 $Hint$

## Hint

顺序志愿的录取规则为：

第一步：对所有同学按其第 $1$ 志愿投档，投档后每个学院按成绩排名从前到后录取 $1$ 志愿报名本学院的学生，若某学院的招生名额已耗尽，则将尚未录取的 $1$ 志愿填报该学院的其余同学退档

第二步：将所有未录同学重新汇总，对这些同学按其第 $2$ 志愿投档，每个学院根据剩余招生名额，继续按成绩排名从前到后录取 $2$ 志愿报名本学院的学生，名额耗尽时将尚未录取的 $2$ 志愿填报该学院的其余同学退档

第三步：...

如此重复投档、录取、退档操作，直到所有同学都已被录取或所有学院的名额都已耗尽

## 输入数据

共 $2n+2$ 行

第 $1$ 行为两个正整数 $n,m$，以空格隔开，分别表示本次参与分流的学生人数与学院数，保证 $1 \leq n \leq 1000$，$1 \leq m \leq 10$

第 $2$ 行为 $m$ 个正整数，分别表示 $1 \sim m$ 号学院的计划招生名额数 $a_{1} \sim a_{m}$，保证对每个 $a_{i}$ 有 $a_{i} \geq 1$， $\sum_{i=1}^m a_i$ 在`int`范围内，且$\sum_{i=1}^m a_i \geq n$

后面 $2n$ 行，每两行为一组，对应一个学生

每组中：

第一行为 $1$ 个只可能包含大小写英文字母的非空字符串和 $1$ 个正整数 $rank$，以空格隔开，表示某个学生的名字与成绩排名。保证字符串长度小于 $10$ ，$rank \in [1,n]$，且不同组输入中的字符串与排名都互不相同

第二行为 $m$ 个互不相同的正整数 $b_{i}$（$b_{i}\in[1,m]$），中间用空格隔开，表示该学生所填报志愿顺序（从第 $1$ 志愿开始到第 $m$ 志愿结束）

## 输出数据

共 $n$ 行，按排名从前到后的顺序输出每人的录取结果

每行 $1$ 个字符串和 $1$ 个数字，以空格隔开，分别表示每个学生的名字与录取她的学院号

## 输入样例

    5 3
    2 1 2
    Madoka 1
    1 2 3
    Homura 2
    1 2 3
    Sayaka 3
    1 2 3
    Mami 4
    2 3 1
    Kyoko 5
    3 2 1

## 输出样例

    Madoka 1
    Homura 1
    Sayaka 3
    Mami 2
    Kyoko 3

## 样例解释

首先容易看出 $5$ 人的成绩排名已按升序排列，不需要再次排序

本次参与分流的学院数为 $3$ ，$1$ 号学院拟招生名额有 $2$ 个，$2$ 号学院拟招生名额有 $1$ 个，$3$ 号学院拟招生名额有 $2$ 个

然后取出所有人的第 $1$ 志愿进行投档：$Madoka$ 、 $Homura$ 和 $Sayaka$ 第 $1$ 志愿都是 $1$ 号学院，但该学院只有 $2$ 个招生名额，因此按成绩排名顺序录取 $Madoka$ 和 $Homura$，$Sayaka$ 被退档。$Mami$ 的第 $1$ 志愿是 $2$ 号学院，该学院有 $1$ 个招生名额，录取成功。$Kyoko$ 的第 $1$ 志愿是 $3$ 号学院，该学院有 $2$ 个招生名额，录取成功

接着取出未录取的所有学生（即 $Sayaka$ ）的第 $2$ 志愿进行投档：$Sayaka$ 的第 $2$ 志愿是 $2$ 号学院，但是该学院已录满，没有剩余名额，因此 $Sayaka$ 再次被退档

最后取出未录取的所有学生（即 $Sayaka$ ）的第 $3$ 志愿进行投档：$Sayaka$ 的第 $3$ 志愿是 $3$ 号学院，该学院还剩 $1$ 个招生名额，录取成功

## Not Hint

每个人都要填报所有可选的专业志愿，最终录取的也一定都是这些专业志愿其中之一，如果有人录到第 $10$ 志愿怎么能说是调剂呢（doge）

![大类招生QB](https://picst.sunbangyan.cn/2023/10/31/d93d1acccc465a0505b42afbbfdfb12d.jpg)

$Author:$ $Sakurakouji\ Luna$
