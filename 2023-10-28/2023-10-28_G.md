# HDB3编码

时间限制：1000 ms / 空间限制：65536 KB / 难度：1

## 题目背景

这天霙在生物教室无所事事，突然发现了伞哥哥用长笛的反光给她发送的消息。可是她看得不是很真切。要怎么做才能更有效地传输信息呢？这激起了她对《通信原理》的兴趣。

在之前的题中我们提到了 AMI 码。但是 AMI 码有很多缺点，其中一条就是当信息中出现连 `0` 码时，由于 AMI 码中长时间不出现电平跳变，因而定时提取遇到困难。通常传输线路中不允许连 `0` 码超过$15$个，否则位定时就要遭到破坏，信号不能正常再生。

为了克服上述困难，人们发明了HDBn码，HDBn码是 $n$ 阶高密度双极性码的缩写，在HDBn码中信息`1`也交替地变换为`+1`与`-1`，但与 AMI 码不同的是：HDBn码中的连 `0` 数被限制为小于或等于$n$。在工程中，最常用的是HDB3码。

## 题目描述

对原始二进制进行HDB3编码的过程可以总结为四步：

1. 加`V`：检查$4$连零的情况，将$4$连零编为一组，用`V`替代`0000`的最后一个`0`，记为`000V`。

2. 加`B`：检查这个`V`和上一个`V`中间的（如果是第一个`V`，则是整个字符串在其之前的）非零码的个数，如果有奇数个非零码，则记为`000V`，若有偶数个非零码，则记为`B00V`。

3. 对信码加符号：对`1`和`B`加符号，首先将`1`和`B`看做整体，保证这个整体按正负交替规律变化。加完符号后，可以把`B`恢复为`1`

4. 对`V`加符号，保证`V`与它的前一个非零码的符号相同（这也是最后`B00V`码段中`B`与`V`符号总是相同的原因）。加完符号后，可以把`V`恢复为`1`

HDB3码是国际电报电话咨询委员会推荐使用的码之一。

## 输入格式

一行，一个长度不大于$1000$的字符串，仅由`0`或`1`构成，表示原始二进制码。

## 输出格式

输入的原始二进制码经过HDB3编码后的结果。要求每个符号之间空一格，保留`+1`中的`+`号。

## 输入样例1

    0100001100000101

## 输出样例1

    0 +1 0 0 0 +1 -1 +1 -1 0 0 -1 0 +1 0 -1

## 输入样例2

    100000110000000010000100

## 输出样例2

    +1 0 0 0 +1 0 -1 +1 -1 0 0 -1 +1 0 0 +1 -1 0 0 0 -1 +1 0 0

## 样例解释

样例 1 编码步骤如下：

1. 加V：`0 1 0 0 0 V 1 1 0 0 0 V 0 1 0 1`
2. 加B：`0 1 0 0 0 V 1 1 B 0 0 V 0 1 0 1`
3. 对信码加符号：`0 +1 0 0 0 V -1 +1 -1 0 0 V 0 +1 0 -1`
4. 对V加符号：`0 +1 0 0 0 +1 -1 +1 -1 0 0 -1 0 +1 0 -1`

样例 2 编码步骤如下：

1. 加V：`1 0 0 0 V 0 1 1 0 0 0 V 0 0 0 V 1 0 0 0 V 1 0 0`
2. 加B：`1 0 0 0 V 0 1 1 B 0 0 V B 0 0 V 1 0 0 0 V 1 0 0`
3. 对信码加符号：`+1 0 0 0 V 0 -1 +1 -1 0 0 V +1 0 0 V -1 0 0 0 V +1 0 0`
4. 对V加符号：`+1 0 0 0 +1 0 -1 +1 -1 0 0 -1 +1 0 0 +1 -1 0 0 0 -1 +1 0 0`

*作者：梁秋月*
